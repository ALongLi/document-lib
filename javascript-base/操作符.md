---
title: 操作符
tags: js 操作符
notebook: js
---

## 操作符
  用于操作数据值的操作符，包含算术操作符，位操作符，关系操作符，相等操作符 

#### 一元操作符
 1. 递增和递减操作符  
    前置型和后置型。顾名思义，前置型应该位于要操作的变量前面，后置型应该位于要操作的变量之后，使用前置给某个变量加一，如下  
    ```javascript
        var age=18
        ++age
        var weight=90
        --weight
    ```
    前置型与后置型的区别就是执行顺序  
    前置型 执行前置递减或递增操作时，变量的值都是在语句被求值以前改变的，如下
      ```javascript
        var age=18
        var newAge = --age+2 //此时newAge的值为19
      ```
    后置型 执行后置递减或递增操作时，变量的值都是在语句被求值以后改变的，如下
      ```javascript
        var age=18
        var newAge = age--+2 //此时newAge的值为20
      ```
     
 2. 一元加和一元减操作符  
    - 这两个操作符和数学书上讲的完全一样
    - 不过在对非数字应用一元加操作符符时，该操作会像 `Number()`转型函数一样对这个值进行转化。例如
     ```javascript
        var s1=+"0.1"  //0.1
        var s2=+"1.1"   //1.1
        var s3=+"abc"   //NaN
        var s4=+10      //10
        var s5=+true    //1
        var s6=+false   //0
     ```

#### 布尔操作符 
测试两个值关系的操作符，布尔操作符一共有三个，非（NOT），与（AND）和或（OR）
  1. 逻辑非  
  逻辑非操作符由一个（!）表示，可以应用es中的任意值，无论这个值是什么类型，这个操作符都会返回一个布尔值，逻辑非操作符首先会奖他的操作数转换为一个布尔值，然后再对其求反，逻辑如下
        - 如果操作数是一个对象返回false
        - 如果操作数是一个空字符串返回true
        - 如果操作数是一个非空字符串返回false
        - 如果操作数是0返回true
        - 如果操作数是任意非零数字，返回false
        - 如果操作数是null，返回true
        - 如果操作数是undefined，返回true
        - 如果操作数是NaN，返回true

        ```javascript
            !false     //true
            !"陈俊先"     //false
            !0     //true
            !NaN    //true
            !""     //true
            !521    //false
        ```  
        同时使用两个逻辑非操作符，实际上会模拟`Boolean()`转型函数的行为。其中第一个逻辑非操作会基于无论什么操作符都返回一个布尔值，而第二个逻辑非则是对该布尔值求方反，于是就得到这个值真正对应的布尔值，当然最终结果与使用`Boolean()`相同，下面的例子   

        ```javascript
            !!false     //true
            !!"陈俊先"     //true
            !!0     //false
            !!NaN    //false
            !!""     //false
            !!521    //true
        ```
  2. 逻辑与     
    逻辑与操作符由两个和符号（&&）表示，有两个操作数，如下所示      
    `var result=true && false`
    逻辑与的真值表如下：          
        | 第一个操作值 | 第二个操作值 | 结果 |
        | ------ | ------ | ------ |
        | true | true | true |
        | true | false | false |
        | false | true | false |
        | false | false | false |
        |  |  |  |  
     逻辑与操作符可以应用于任何类型的操作符,而不仅仅是布尔值,在有一个操作数不是布尔值的情况下,逻辑与操作就不一定返回布尔值,此时，遵循以下规则：     
     - 如果第一个操作数是对象,则返回第二个操作数
     - 如果第二个操作数是对象,则只有在第一个操作数的求值结果是true的情况下才会返回该对象
     - 如果两个操作数都是对象,则返回第二个操作数
     - 如果有一个操作数是null,则返回null
     - 如果有一个操作数是NaN,则返回NaN
     - 如果有一个操作数是undefined,则返回undefined
  3. 逻辑或  
  逻辑或由两个竖线符号（||）表示,有两个操作符，如下表示     
  `var result=true || false`        
  逻辑或的真值表如下：      
        | 第一个操作符 | 第二个操作符 | 结果 |
        | ------ | ------ | ------ |
        | true | true | true |
        | true | false | true |
        | false | true | true |
        | false | false | false |
        |  |  |  |          
     与逻辑与操作相似,如果有一个操作数不是布尔值,逻辑或也不一定返回布尔值,此时，遵循以下规则：  
      - 如果第一个操作数是对象,则返回第一个操作数
      - 如果第一个操作数求值是false,则返回第二个操作数
      - 如果两个操作数都是对象,则返回第一个操作数
      - 如果两个操作数是null,则返回null
      - 如果两个操作数是NaN,则返回NaN
      - 如果两个操作数是undefined,则返回undefined  
     
     如果第一个操作数的求值结果为true,就不会对第二个操作数求值了.       
     ```javascript
        var found=true
        var result=found || someUndefinedVariable  //不会发生错误,继续执行代码
        console.log(result)//这一行会执行
        var found2=false
        var result2=found2 || someUndefinedVariable2  //会发生错误，阻塞下面代码执行
        console.log(result2)//不再执行这行代码
     ```
       
#### 乘性操作符
es定义了3个乘性操作符,乘法，除法，求模，在操作数为非数字的情况下会执行自动的类型转换。比如，如果参与乘法计算的某个操作数不是数值，后台会先使用`Number()`转型函数,将其转换为数值。
 1. 乘法  
    乘法操作符由一个星号（*）表示,用于计算两个数值的乘积，语法如下所示：        
    `var result = 34 * 23`      
    在处理特殊值的情况下，乘法操作符遵循以下规则：      
     - 如果操作符都是数值，执行常规数学运算，如果乘积超过了es规定的范围，则返回Infinity或者-Infinity
     - 如果一个操作数是NaN，则结果是NaN
     - 如果是Infinity与0相乘，则结果是NaN
     - 如果是Infinity与非0相乘，则结果是为Infinity或者-Infinity，取决与有符号操作数的符号
     - 如果是Infinity与 Infinity相乘，则结果是Infinity
     - 如果有一个操作符不是数值，则后台调用`Number()`将其转换为数值，然后在应用上面的规则
     
 2. 除法        
    除法操作符由一个斜线符号（/）表示,用于计算两个数值的商，语法如下所示：        
    `var result = 34 / 23`      
    在处理特殊值的情况下，除法操作符遵循以下规则：      
     - 都是数值，常规计算
     - 有一个操作数是NaN，结果是NaN
     - 分母为0（即除数为0），结果是NaN
     - 其他的几乎用不到了解就行
        
 3. 求模        
     求模（余数）操作符由一个百分号（%）表示,用于计算两个数值的余数，语法如下所示：        
    ```javascript
         var result = 26 % 5   //等于1  
    ```     
     在处理特殊值的情况下，求模操作符遵循以下规则：      
     - 都是数值，常规计算
     - 如果有一个操作数不是数值，则在后台调用`Number()`将其转换为数值后，再进行计算
     - 其他的几乎用不到了解就行     
#### 加性操作符  
加法和减法除了常规的操作，还有一些特殊的操作，在操作数为非数字的情况下会执行自动的类型转换。比如，如果参与计算的某个操作数不是数值，后台会先使用`Number()`转型函数,将其转换为数值。     
 1. 加法        
    加法操作符（+）的用法如下
    `var result = 1 + 2`        
    大致规则如下：      
     - 都是数值，正常计算
     - 有一个是NaN，结果是NaN
     - 如果两个操作数都是字符串，则将字符串拼接起来
     - 如果有一个操作数是字符串，则将另一个操作数转换为字符串然后将字符串拼接起来

        ```javascript
            var result="陈" + "俊先"  //"陈俊先"
            var result2=521 + "陈俊先"  //"521陈俊先"
            var result2=521 + "123"  //"521123"
        ```
 2. 减法        
    减法操作符（-）的用法如下
    `var result = 1 - 2`        
    大致规则如下：      
     - 都是数值，正常计算
     - 有一个是NaN，结果是NaN
     - 如果有一个操作数是字符串，布尔值，null，或者undefined，则先在后台调用`Number()`函数将其转换为数值，然后在进行计算，如果转换后为NaN，则减法的结果就是NaN
     - 如果有一个个操作数是对象，了解就行

        ```javascript
            var result = 5 - true  
            var result2 = 5 - NaN  
            var result3 = 5 - ""  
            var result4 = 5 - "1"  
            var result5 = 5 - 1  
            var result6 = 5 - null  
            var result7 = 5 - undefined  
        ```
#### 关系操作符     
小于（<），大于（>），大于等于（>=），小于等于（<=），这几个关系操作符用于对两个值进行比较，比较的规则与我们在数学课上学到的一样。这几个操作符都返回一个布尔值。如下：
```javascript
    var result1=5 > 3  //true
    var result2=5 < 3   //false
```
当关系操作符遇到非数值时，也要进行数据转换，或完成某些奇怪的操作。规则大致如下：
 - 都是数值，进行值的比较
 - 都是字符串，比较两个字符串对应的编码
 - 如果一个操作数是数值，则将另一个操作符转换为一个数值，然后执行数值比较
 - 如果一个操作数是对象，了解
 - 如果一个操作数是布尔值，先将其转换为数值，然后再进行比较
 - 任何操作数与NaN比较结果都是false     

 #### 相等操作符
 主要分为相等和不相等，全等和不全等
  1. 相等和不相等       
    es中的相等操作符由两个等于号（==），如果两个操作数相等则返回true。而不相等操作符由叹号和等号组成（!=），如果两个操作数不相等则返回true，这两个操作符都会先转换操作数（通常为强制转型），然后再比较他们的相等性      
    在转换不同的数据类型时，相等和不相等操作符会遵循以下规则：      
     - 如果有一个操作数是布尔值，则在比较值钱先将其转化为数值
     - 如果一个操作数是字符串，另一个操作术是数值，在比较之前先将其字符串转换为数值
     - 如果一个操作数是对象，了解
     - null和undefined是相等的
     - 在比较相等性之前null和undefined是不转换任何值
     - 如果有一个操作数是NaN，则相等操作符返回false，而不相等操作符返回true，如果两个操作符都是NaN，则相等和不相等都是返回false
     - 如果两个操作数都是对象,则比较他们是同一个对象。如果两个操作数都指向同一个对象，则相等操作符返回true，反之返回false。     

     下面是一些特殊比较：       
        | 表达式 | 结果 |
        | ------ | ------ |
        | null==undefined | true |
        | NaN=="NaN" | false |
        | NaN==5 | false |
        | NaN==NaN | false |
        | NaN!=NaN | true |
        | false==0 | true |
        | true==1 | true |
        | true==2 | false |
        | undefined==0 | false |
        | null==0 | false |
        | 5=="5" | true |
        |  |  |          
     
  2. 全等和不全等       
    全等（===）和不全等（!==）除了在比较之前不转换操作数，和相等不相等操作符没什么区别      
    ```javascript
        var result1 = ("55" == 55)
        var result2 = ("55" === 55)
        var result3 = (null == undefined)
        var result4 = (null === undefined)
    ```
#### 条件运算符
条件运算符又叫三元运算符由? :组成 语法如下：        
` variable = boolean_expression ? true_value : false_value`         
本质上，这行代码是基于对`boolean_expression`求值的结果，决定给变量`variable`赋什么值，如果求值结果为true，则给变量赋`variable`赋`true_value`值，如果求值结果是false，则给变量`variable`赋`false_value`值        

#### 赋值操作符
简单的赋值操作由等于号（=）表示，其作用就是把右侧的值赋给左侧的变量，如下面例子：       
`var name = "陈俊先" `      
如果在等于号前面再添加乘性操作符，加性操作符，就可以完成复合赋值操作
```javascript
    var age = 18
    age = age + 10
    //写成复合赋值就相当于
    var age = 18
    age += 10
```
每个主要算数运算符都有对应的复合赋值操作符 常见如下：       
 - 乘/赋值（*=）
 - 除/赋值（/=）
 - 模/赋值（%=）
 - 加/赋值（+=）
 - 减/赋值（-=）
 
#### 逗号操作符
使用逗号操作符可以在一条语句中执行多个操作，如下面：        
`var name="陈俊先",age=18,weight=100`
 
 